<div ng-controller="templates:list">

  <h1>Templates</h1>

  <div id="createTemplateModal" class="modal fade" tabindex="-1" role="dialog" >
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Create Template</h4>
        </div>

        <div class="modal-body">
          <form ng-submit="processCreateTemplateForm()">

            <div class="form-group">
              <label>Name</label>
              <input type="text" name="name" class="form-control" placeholder="new-user-email" ng-model="forms.createTemplate.name">
            </div>

            <div class="form-group">
              <label>Description</label>
              <input type="text" name="name" class="form-control" placeholder="new user welcome email" ng-model="forms.createTemplate.description">
            </div>

            <div class="form-group">
              <label>Folder</label>
              <input type="text" name="folder" class="form-control" placeholder="default" ng-model="forms.createTemplate.folder">
            </div>

            <div class="row">
              <div class="col-md-12">
                <button type="submit" class="btn btn-success btn-lg btn-block">
                  <span class="glyphicon glyphicon-flash"></span> Submit
                </button>
              </div>
            </div>

          </form>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->


  <div id="editTemplateModal" class="modal fade" tabindex="-1" role="dialog" >
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Edit Template</h4>
        </div>

        <div class="modal-body">
          <form ng-submit="processEditTemplateForm()">

            <div class="form-group">
              <label>Name</label>
              <input type="text" name="name" class="form-control" placeholder="new-user-email" ng-model="forms.editTemplate.name">
            </div>

            <div class="form-group">
              <label>Description</label>
              <input type="text" name="name" class="form-control" placeholder="new user welcome email" ng-model="forms.editTemplate.description">
            </div>

            <div class="form-group">
              <label>Folder</label>
              <input type="text" name="folder" class="form-control" placeholder="default" ng-model="forms.editTemplate.folder">
            </div>

            <div class="row">
              <div class="col-md-12">
                <button type="submit" class="btn btn-success btn-lg btn-block">
                  <span class="glyphicon glyphicon-flash"></span> Submit
                </button>
              </div>
            </div>

          </form>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->


  <a ng-click="createTemplate();" class="btn btn-primary">Create Template</a>

  <div class="row">
    <div class="col-md-3">
      <br />
      <div class="panel panel-default">
        <div class="panel-heading">Folders</div>
        <div class="panel-body">
          <div class="form-group">
            <div class="radio">
              <label><input type="radio" ng-model="folder.name" value="_all">Show All</label>
            </div>
            <hr ng-if="folders.length > 0" />
            <div class="radio" ng-repeat="f in folders">
              <label><input type="radio" ng-model="folder.name" value="{{ f }}">{{ f }}</label>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-9">

      <table class="table table-striped table-hover">

        <thead>
          <tr>
            <th>&nbsp;</th>
            <th>createdAt</th>
            <th>updatedAt</th>
            <th>name</th>
            <th>description</th>
            <th>folder</th>
            <th>&nbsp;</th>
            <th>&nbsp;</th>
            <th>&nbsp;</th>
          </tr>
        </thead>

        <tbody ng-repeat="template in templates">
          <tr>
            <td><a href="/#/template/{{ template.id }}"><span class="glyphicon glyphicon-edit">&nbsp;</span></a></td>
            <td>{{ template.createdAt }}</td>
            <td>{{ template.updatedAt }}</td>
            <td><strong>{{ template.name }}</strong></td>
            <td>{{ template.description }}</td>
            <td>{{ template.folder }}</td>
            <td><span ng-click="copyTemplate(template.id);" class="glyphicon glyphicon-duplicate">&nbsp;</span></td>
            <td><span ng-click="editTemplate(template.id);" class="glyphicon glyphicon-pencil">&nbsp;</span></td>
            <td><span ng-click="deleteTemplate(template.id);" class="glyphicon glyphicon-remove">&nbsp;</span></td>
          </tr>
        </tbody>

      </table>
    </div>

    <ul class="pagination pagination-sm" ng-if="templates.length > 0">
      <li ng-class="pagination.showBack ? '' : 'disabled'" ><a href="/#/templates/list/{{ folder.name }}/{{ pagination.firstPage }}">&laquo;</a></li>

      <li ng-repeat="p in pagination.pages" ng-class="p.active ? 'active' : ''">
        <a href="/#/templates/list/{{ folder.name }}/{{ p.page }}">{{ p.page }}</a>
      </li>

      <li ng-class="pagination.showForward ? '' : 'disabled'"><a href="/#/templates/list/{{ folder.name }}/{{ pagination.lastPage }}">&raquo;</a></li>
    </ul>

  </div>
</div>
