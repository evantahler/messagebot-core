<div ng-controller="analytics:search">

  <div class="row">
    <form class="form-horizontal" ng-submit="doSearch()">

      <div class="col-md-11">
        <label class="control-label">search {{ $root.section }} by key:</label>
        <input type="text" class="form-control" ng-model="searchString" placeholder="email:evan@messagebot.com, firstName:evan">
      </div>

      <div class="col-md-1">
        <label class="control-label">&nbsp;</label>
        <button type="submit" class="form-control btn btn-primary">search</button>
      </div>

    </form>
  </div>

  <div class="row" ng-if="searchResults.length > 0">
    <div class="col-md-12">
      <h2>Search Results:</h2>

      <table class="table table-striped table-hover">

        <thead>
          <tr>
            <th>&nbsp;</th>
            <th>guid</th>
            <th>createdAt</th>
            <th>updatedAt</th>
            <th ng-if="records[0].type !== undefined">type</th>
            <th>data</th>
          </tr>
        </thead>

        <tbody ng-repeat="record in searchResults">
          <tr>
            <td><a href="/#/{{ $root.singular($root.section) }}/{{ record.guid  }}"><span class="glyphicon glyphicon-pencil">&nbsp;</span></a></td>
            <td>{{ record.guid }}</td>
            <td>{{ record.createdAt }}</td>
            <td>{{ record.updatedAt }}</td>
            <td ng-if="record.type !== undefined">{{ record.type }}</td>
            <td>{{ record.data }}</td>
          </tr>
        </tbody>

      </table>
    </div>
  </div>

</div>
