<div ng-controller="lists:people:view">



  <div id="addListPeopleViapersonGuidModal" class="modal fade" tabindex="-1" role="dialog" >
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Add List People via personGuid</h4>
        </div>

        <div class="modal-body">
          <form ng-submit="processAddListPeopleViapersonGuid()">

            <div class="form-group">
              <label>User Guids (seperate by commas)</label>
              <textarea rows="5" name="personQuery" class="form-control" ng-model="forms.addListPeopleViapersonGuids.personGuids"></textarea>
            </div>

            <div class="row">
              <div class="col-md-12">
                <button type="submit" class="btn btn-success btn-lg btn-block">
                  <span class="glyphicon glyphicon-flash"></span> Submit
                </button>
              </div>
            </div>

          </form>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->



  <div id="addListPeopleViaFileModal" class="modal fade" tabindex="-1" role="dialog" >
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Add List People via file upload</h4>
        </div>

        <div class="modal-body">
          <form ng-submit="processAddListPeopleViaFile()">

            <p>File uploads should be .csv files with the first line containing header information.  guids are optional.</p>
            <p>
              <pre>
guid, firstName, lastName, email
000001, Evan, Tahler, evan.tahler@gmail.com
000002, Christina, Hussain, christina.hussain@gmail.com
000003, Andy, Jih, andy.jih@gmail.com
000004, Heather, Tahler, heather.tahler@gmail.com
              </pre>
            </p>

            <div class="input-group">
                <span class="input-group-btn">
                    <span class="btn btn-primary btn-file">
                        <!-- Browse&hellip; <input type="file" data-file ng-model="forms.addListPeopleViaFile.file"> -->
                        Browse&hellip; <input type="file" nv-file-select="" uploader="uploader">
                    </span>
                </span>
                <input type="text" class="form-control" readonly ng-model="uploader.queue[0].file.name">
            </div>

            <br />

            <div class="row">
              <div class="col-md-12">
                <button type="submit" class="btn btn-success btn-lg btn-block">
                  <span class="glyphicon glyphicon-flash"></span> Submit
                </button>
              </div>
            </div>

          </form>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->



  <div class="col-md-12">
    <h2>People in "<strong>{{ list.name }}</strong>" ({{ total }} total):</h2>

    <div ng-if="list.type === 'static'">
      <a ng-click="addListPeopleViapersonGuid();" class="btn btn-primary">Add List People via personGuid</a>
      <a ng-click="addListPeopleViaFile();" class="btn btn-primary">Add List People via file</a>
    </div>

    <table class="table table-striped table-hover">

      <thead>
        <tr>
          <th>&nbsp;</th>
          <th ng-if="list.type === 'static'">&nbsp;</th>
          <th>guid</th>
          <th>createdAt</th>
          <th>updatedAt</th>
          <th>data</th>
        </tr>
      </thead>

      <tbody ng-repeat="person in people">
        <tr>
          <td><a href="/#/person/{{ person.guid  }}"><span class="glyphicon glyphicon-pencil">&nbsp;</span></a></td>
          <td ng-if="list.type === 'static'">
            <span ng-click="removeListPerson(person.guid);" class="glyphicon glyphicon-remove-circle">&nbsp;</span>
          </td>
          <td>{{ person.guid }}</td>
          <td>{{ person.createdAt }}</td>
          <td>{{ person.updatedAt }}</td>
          <td>{{ person.data }}</td>
        </tr>
      </tbody>

    </table>
  </div>

  <ul class="pagination pagination-sm" ng-if="people.length > 0">
    <li ng-class="pagination.showBack ? '' : 'disabled'" ><a href="/#/list/{{ list.id }}/people/{{ pagination.firstPage }}">&laquo;</a></li>

    <li ng-repeat="p in pagination.pages" ng-class="p.active ? 'active' : ''">
      <a href="/#/list/{{ list.id }}/people/{{ p.page }}">{{ p.page }}</a>
    </li>

    <li ng-class="pagination.showForward ? '' : 'disabled'"><a href="/#/list/{{ list.id }}/people/{{ pagination.lastPage }}">&raquo;</a></li>
  </ul>

</div>
